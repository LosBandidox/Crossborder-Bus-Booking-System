<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - International Bus Booking System</title>
    <link rel="stylesheet" href="../assets/css/InputStyles.css">
    <script src="../assets/js/formValidation.js" defer></script>
    <script src="../assets/js/login.js" defer></script>
</head>
<body>
    <form id="loginForm">
        <h2>Login</h2>
        <label for="email">Email:</label>
        <input type="text" id="email" name="email" required>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>

        <!-- CAPTCHA Section -->
        <div id="captchaSection">
            <label id="captchaQuestion"></label>
            <input type="text" id="captchaAnswer" name="captcha" required>
            <input type="hidden" id="captchaSolution" name="captcha_solution">
        </div>

        <div class="submit-container">
            <input type="submit" value="Login">
        </div>

        <p><a href="forms/ForgotPasswordForm.html">Forgot Password?</a></p>
        <p>Don't have an account? <a href="forms/SignUpForm.html">Sign Up</a></p>
    </form>

    <script>
    // Event listener: Triggers when the webpage loads.
    // Attached to the document, runs CAPTCHA generation on page load.
    // Initializes the CAPTCHA question and solution.
    document.addEventListener('DOMContentLoaded', function() {
        // Variables: Store random numbers for CAPTCHA.
        // Generates two random integers between 1 and 10.
        // Used to create a simple addition-based CAPTCHA.
        const num1 = Math.floor(Math.random() * 10) + 1;
        const num2 = Math.floor(Math.random() * 10) + 1;
        
        // DOM update: Sets the CAPTCHA question text.
        // Displays the addition question in the element with ID 'captchaQuestion'.
        // Presents the CAPTCHA challenge to the user.
        document.getElementById('captchaQuestion').textContent = `What is ${num1} + ${num2}?`;
        
        // DOM update: Sets the CAPTCHA solution value.
        // Stores the correct answer in the hidden input with ID 'captchaSolution'.
        // Allows verification of the userâ€™s CAPTCHA response.
        document.getElementById('captchaSolution').value = num1 + num2;
    });
</script>
</body>
</html>